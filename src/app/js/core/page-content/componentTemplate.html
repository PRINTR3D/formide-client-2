<!--
 *	This code was created for Printr B.V. It is open source under the formide-client package.
 *	Copyright (c) 2017, All rights reserved, http://printr.nl
-->

<ul class="list-inline nav xs-hide">
    <li ng-repeat="route in vm.routes" ng-if="route.loggedIn === undefined || (route.loggedIn && $root.isLoggedIn) || (!route.loggedIn && !$root.isLoggedIn)">
        <a  ng-class="{ active: route.nav.active}" ng-click="vm.navigate(route.path)"
            title="{{ ::route.nav.name }}">
            {{ ::route.nav.name }}
        </a>
    </li>
</ul>

<ul class="list-inline u-textNoWrap nav sm-hide" ng-class="{'open': vm.showMobileNav}">

	<li ng-repeat="route in vm.routes | filter: {nav: {active: true}}" ng-if="route.loggedIn === undefined || (route.loggedIn && $root.isLoggedIn) || (!route.loggedIn && !$root.isLoggedIn)">
		<a  class="active" ng-click="vm.navigate(route.path); vm.showMobileNav = !vm.showMobileNav;"
			title="{{ ::route.nav.name }}">
			{{ ::route.nav.name }}
			<span ng-if="!vm.showMobileNav"><i class="fa fa-angle-down"></i></span>
			<span ng-if="vm.showMobileNav"><i class="fa fa-angle-up"></i></span>
		</a>
    </li>

    <li
        ng-repeat="route in vm.routes | filter: {nav: {active: false}}"
        ng-if="vm.showMobileNav && (route.loggedIn === undefined || (route.loggedIn && $root.isLoggedIn) || (!route.loggedIn && !$root.isLoggedIn))">
        <a
            ng-click="vm.navigate(route.path); vm.showMobileNav = false">
            {{::route.nav.name}}
        </a>

    </li>
	<li ng-if="vm.showMobileNav && $root.isLoggedIn">
		<a ng-click="vm.logout()">Log Out</a>
	</li>
</ul>

<div class="fade inner-page-content">
	<div class="layout">

		<div class="layout__item inner-page-section">
			<div ng-viewport="mainView"></div>
		</div>

	</div>
</div>
